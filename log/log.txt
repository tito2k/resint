Array
(
    [idSesion] => d2db86ea-4cf6-102e-a383-001f29ae8127
    [idsolicitud] => 20100060
    [idestado] => 1
    [_] => 1291027907681
    [_search] => false
    [nd] => 1291027907672
    [rows] => 40
    [page] => 1
    [sidx] => idarticulo
    [sord] => asc
)

SELECT ta.idarticulo, a.nombre, ta.cantidad ,ta.idarticulo AS id 
                FROM transaccionarticulo ta
                INNER JOIN articulo a ON a.idarticulo = ta.idarticulo
                WHERE ta.idtransaccion=20100060
                AND ta.idestado=1 ORDER BY idarticulo asc LIMIT 0,40 ;
SELECT *,u.idtransaccion as id FROM
										(SELECT t.idtransaccion,
														concat((t.idtransaccion - (t.idtransaccion DIV 10000) * 10000),'/',(t.idtransaccion DIV 10000)) AS nroSolicitud,
														o.descripcion AS origen,
														date_format(t.fechainicio,'%d/%m/%Y') AS Inicio,
														'Seccion' AS destino, s.descripcion AS identificacion,
														t.idestado AS estado, e.descripcion AS idestado, date_format(t.fechaactual,'%d/%m/%Y') AS Fecha, a.descripcion AS almacen
										FROM transaccion t
										INNER JOIN seccion o ON o.idseccion=t.idorigen
										INNER JOIN seccion a ON a.idseccion=t.idalmacen
										INNER JOIN seccion s ON s.idseccion=t.iddestino
										INNER JOIN estadotransaccion e ON e.idestado=t.idestado
										WHERE  t.idorigen IN (10) and t.destino='S'
									union
										SELECT t.idtransaccion,
														concat((t.idtransaccion - (t.idtransaccion DIV 10000) * 10000),'/',(t.idtransaccion DIV 10000)) AS nroSolicitud,
														o.descripcion AS origen,
														date_format(t.fechainicio,'%d/%m/%Y') AS Inicio,
														'Funcionario' AS destino, t.iddestino AS identificacion,
														t.idestado AS estado, e.descripcion AS idestado, date_format(t.fechaactual,'%d/%m/%Y') AS Fecha, a.descripcion AS almacen
										FROM transaccion t
										INNER JOIN seccion o ON o.idseccion=t.idorigen
										INNER JOIN seccion a ON a.idseccion=t.idalmacen
										INNER JOIN estadotransaccion e ON e.idestado=t.idestado
										WHERE  t.idorigen IN (10) and t.destino='F'
									union
										SELECT t.idtransaccion,
														concat((t.idtransaccion - (t.idtransaccion DIV 10000) * 10000),'/',(t.idtransaccion DIV 10000)) AS nroSolicitud,
														o.descripcion AS origen,
														date_format(t.fechainicio,'%d/%m/%Y') AS Inicio,
														'Vehiculo' AS destino, t.iddestino AS identificacion,
														t.idestado AS estado, e.descripcion AS idestado, date_format(t.fechaactual,'%d/%m/%Y') AS Fecha, a.descripcion AS almacen
										FROM transaccion t
										INNER JOIN seccion o ON o.idseccion=t.idorigen
										INNER JOIN seccion a ON a.idseccion=t.idalmacen
										INNER JOIN estadotransaccion e ON e.idestado=t.idestado
										WHERE  t.idorigen IN (10) and t.destino='V'
										) u ORDER BY idtransaccion desc LIMIT 0,40 ;
