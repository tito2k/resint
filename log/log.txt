Array
(
    [idSesion] => 42bae5ac-53a3-102e-8a97-001f29ae8127
    [idsolicitud] => 20100071
    [idestado] => 1
    [_] => 1291762881381
    [_search] => false
    [nd] => 1291762881380
    [rows] => 40
    [page] => 1
    [sidx] => idarticulo
    [sord] => asc
)

SELECT ta.idarticulo, a.nombre, ta.cantidad ,ta.idarticulo AS id 
                FROM transaccionarticulo ta
                INNER JOIN articulo a ON a.idarticulo = ta.idarticulo
                WHERE ta.idtransaccion=20100071
                AND ta.idestado=1 ORDER BY idarticulo asc LIMIT 0,40 ;
SELECT *,u.idtransaccion as id FROM
										(SELECT t.idtransaccion,
														concat((t.idtransaccion - (t.idtransaccion DIV 10000) * 10000),'/',(t.idtransaccion DIV 10000)) AS nroSolicitud,
														o.descripcion AS origen,
														date_format(t.fechainicio,'%d/%m/%Y') AS Inicio,
														'Seccion' AS destino, s.descripcion AS identificacion,
														t.idestado AS estado, e.descripcion AS idestado, date_format(t.fechaactual,'%d/%m/%Y') AS Fecha, a.descripcion AS almacen
										FROM transaccion t
										INNER JOIN seccion o ON o.idseccion=t.idorigen
										INNER JOIN seccion a ON a.idseccion=t.idalmacen
										INNER JOIN seccion s ON s.idseccion=t.iddestino
										INNER JOIN estadotransaccion e ON e.idestado=t.idestado
										WHERE  t.idalmacen IN (1,32,52,53,81) AND t.idestado > 1 and t.destino='S'
									union
										SELECT t.idtransaccion,
														concat((t.idtransaccion - (t.idtransaccion DIV 10000) * 10000),'/',(t.idtransaccion DIV 10000)) AS nroSolicitud,
														o.descripcion AS origen,
														date_format(t.fechainicio,'%d/%m/%Y') AS Inicio,
														'Funcionario' AS destino, t.iddestino AS identificacion,
														t.idestado AS estado, e.descripcion AS idestado, date_format(t.fechaactual,'%d/%m/%Y') AS Fecha, a.descripcion AS almacen
										FROM transaccion t
										INNER JOIN seccion o ON o.idseccion=t.idorigen
										INNER JOIN seccion a ON a.idseccion=t.idalmacen
										INNER JOIN estadotransaccion e ON e.idestado=t.idestado
										WHERE  t.idalmacen IN (1,32,52,53,81) AND t.idestado > 1 and t.destino='F'
									union
										SELECT t.idtransaccion,
														concat((t.idtransaccion - (t.idtransaccion DIV 10000) * 10000),'/',(t.idtransaccion DIV 10000)) AS nroSolicitud,
														o.descripcion AS origen,
														date_format(t.fechainicio,'%d/%m/%Y') AS Inicio,
														'Vehiculo' AS destino, t.iddestino AS identificacion,
														t.idestado AS estado, e.descripcion AS idestado, date_format(t.fechaactual,'%d/%m/%Y') AS Fecha, a.descripcion AS almacen
										FROM transaccion t
										INNER JOIN seccion o ON o.idseccion=t.idorigen
										INNER JOIN seccion a ON a.idseccion=t.idalmacen
										INNER JOIN estadotransaccion e ON e.idestado=t.idestado
										WHERE  t.idalmacen IN (1,32,52,53,81) AND t.idestado > 1 and t.destino='V'
										) u ORDER BY idtransaccion desc LIMIT 0,40 ;
SELECT *,u.idtransaccion as id FROM
										(SELECT t.idtransaccion,
														concat((t.idtransaccion - (t.idtransaccion DIV 10000) * 10000),'/',(t.idtransaccion DIV 10000)) AS nroSolicitud,
														o.descripcion AS origen,
														date_format(t.fechainicio,'%d/%m/%Y') AS Inicio,
														'Seccion' AS destino, s.descripcion AS identificacion,
														t.idestado AS estado, e.descripcion AS idestado, date_format(t.fechaactual,'%d/%m/%Y') AS Fecha, a.descripcion AS almacen
										FROM transaccion t
										INNER JOIN seccion o ON o.idseccion=t.idorigen
										INNER JOIN seccion a ON a.idseccion=t.idalmacen
										INNER JOIN seccion s ON s.idseccion=t.iddestino
										INNER JOIN estadotransaccion e ON e.idestado=t.idestado
										WHERE  t.idalmacen IN (1,32,52,53,81) AND t.idestado > 1 and t.destino='S'
									union
										SELECT t.idtransaccion,
														concat((t.idtransaccion - (t.idtransaccion DIV 10000) * 10000),'/',(t.idtransaccion DIV 10000)) AS nroSolicitud,
														o.descripcion AS origen,
														date_format(t.fechainicio,'%d/%m/%Y') AS Inicio,
														'Funcionario' AS destino, t.iddestino AS identificacion,
														t.idestado AS estado, e.descripcion AS idestado, date_format(t.fechaactual,'%d/%m/%Y') AS Fecha, a.descripcion AS almacen
										FROM transaccion t
										INNER JOIN seccion o ON o.idseccion=t.idorigen
										INNER JOIN seccion a ON a.idseccion=t.idalmacen
										INNER JOIN estadotransaccion e ON e.idestado=t.idestado
										WHERE  t.idalmacen IN (1,32,52,53,81) AND t.idestado > 1 and t.destino='F'
									union
										SELECT t.idtransaccion,
														concat((t.idtransaccion - (t.idtransaccion DIV 10000) * 10000),'/',(t.idtransaccion DIV 10000)) AS nroSolicitud,
														o.descripcion AS origen,
														date_format(t.fechainicio,'%d/%m/%Y') AS Inicio,
														'Vehiculo' AS destino, t.iddestino AS identificacion,
														t.idestado AS estado, e.descripcion AS idestado, date_format(t.fechaactual,'%d/%m/%Y') AS Fecha, a.descripcion AS almacen
										FROM transaccion t
										INNER JOIN seccion o ON o.idseccion=t.idorigen
										INNER JOIN seccion a ON a.idseccion=t.idalmacen
										INNER JOIN estadotransaccion e ON e.idestado=t.idestado
										WHERE  t.idalmacen IN (1,32,52,53,81) AND t.idestado > 1 and t.destino='V'
										) u ORDER BY idtransaccion desc LIMIT 0,40 ;
SELECT au.idarticulo,a.nombre, au.cantidad, au.idestado, e.descripcion,date_format(au.fecha,'%d/%m/%Y') as fecha, uuid() AS id FROM transaccionarticulo au  INNER JOIN articulo a ON a.idarticulo = au.idarticulo INNER JOIN estadotransaccion e ON e.idestado = au.idestado WHERE au.idtransaccion = 20100069
SELECT au.idarticulo,a.nombre, au.cantidad, au.idestado, e.descripcion,date_format(au.fecha,'%d/%m/%Y') as fecha, uuid() AS id FROM transaccionarticulo au  INNER JOIN articulo a ON a.idarticulo = au.idarticulo INNER JOIN estadotransaccion e ON e.idestado = au.idestado WHERE au.idtransaccion = 20100069 ORDER BY au.idestado,au.idarticulo asc LIMIT 0,40 ;
SELECT *,u.idtransaccion as id FROM
										(SELECT t.idtransaccion,
														concat((t.idtransaccion - (t.idtransaccion DIV 10000) * 10000),'/',(t.idtransaccion DIV 10000)) AS nroSolicitud,
														o.descripcion AS origen,
														date_format(t.fechainicio,'%d/%m/%Y') AS Inicio,
														'Seccion' AS destino, s.descripcion AS identificacion,
														t.idestado AS estado, e.descripcion AS idestado, date_format(t.fechaactual,'%d/%m/%Y') AS Fecha, a.descripcion AS almacen
										FROM transaccion t
										INNER JOIN seccion o ON o.idseccion=t.idorigen
										INNER JOIN seccion a ON a.idseccion=t.idalmacen
										INNER JOIN seccion s ON s.idseccion=t.iddestino
										INNER JOIN estadotransaccion e ON e.idestado=t.idestado
										WHERE  t.idalmacen IN (1,32,52,53,81) AND t.idestado > 1 and t.destino='S'
									union
										SELECT t.idtransaccion,
														concat((t.idtransaccion - (t.idtransaccion DIV 10000) * 10000),'/',(t.idtransaccion DIV 10000)) AS nroSolicitud,
														o.descripcion AS origen,
														date_format(t.fechainicio,'%d/%m/%Y') AS Inicio,
														'Funcionario' AS destino, t.iddestino AS identificacion,
														t.idestado AS estado, e.descripcion AS idestado, date_format(t.fechaactual,'%d/%m/%Y') AS Fecha, a.descripcion AS almacen
										FROM transaccion t
										INNER JOIN seccion o ON o.idseccion=t.idorigen
										INNER JOIN seccion a ON a.idseccion=t.idalmacen
										INNER JOIN estadotransaccion e ON e.idestado=t.idestado
										WHERE  t.idalmacen IN (1,32,52,53,81) AND t.idestado > 1 and t.destino='F'
									union
										SELECT t.idtransaccion,
														concat((t.idtransaccion - (t.idtransaccion DIV 10000) * 10000),'/',(t.idtransaccion DIV 10000)) AS nroSolicitud,
														o.descripcion AS origen,
														date_format(t.fechainicio,'%d/%m/%Y') AS Inicio,
														'Vehiculo' AS destino, t.iddestino AS identificacion,
														t.idestado AS estado, e.descripcion AS idestado, date_format(t.fechaactual,'%d/%m/%Y') AS Fecha, a.descripcion AS almacen
										FROM transaccion t
										INNER JOIN seccion o ON o.idseccion=t.idorigen
										INNER JOIN seccion a ON a.idseccion=t.idalmacen
										INNER JOIN estadotransaccion e ON e.idestado=t.idestado
										WHERE  t.idalmacen IN (1,32,52,53,81) AND t.idestado > 1 and t.destino='V'
										) u ORDER BY idtransaccion desc LIMIT 0,40 ;
SELECT *,u.idtransaccion as id FROM
										(SELECT t.idtransaccion,
														concat((t.idtransaccion - (t.idtransaccion DIV 10000) * 10000),'/',(t.idtransaccion DIV 10000)) AS nroSolicitud,
														o.descripcion AS origen,
														date_format(t.fechainicio,'%d/%m/%Y') AS Inicio,
														'Seccion' AS destino, s.descripcion AS identificacion,
														t.idestado AS estado, e.descripcion AS idestado, date_format(t.fechaactual,'%d/%m/%Y') AS Fecha, a.descripcion AS almacen
										FROM transaccion t
										INNER JOIN seccion o ON o.idseccion=t.idorigen
										INNER JOIN seccion a ON a.idseccion=t.idalmacen
										INNER JOIN seccion s ON s.idseccion=t.iddestino
										INNER JOIN estadotransaccion e ON e.idestado=t.idestado
										WHERE  t.idalmacen IN (1,32,52,53,81) AND t.idestado > 1 and t.destino='S'
									union
										SELECT t.idtransaccion,
														concat((t.idtransaccion - (t.idtransaccion DIV 10000) * 10000),'/',(t.idtransaccion DIV 10000)) AS nroSolicitud,
														o.descripcion AS origen,
														date_format(t.fechainicio,'%d/%m/%Y') AS Inicio,
														'Funcionario' AS destino, t.iddestino AS identificacion,
														t.idestado AS estado, e.descripcion AS idestado, date_format(t.fechaactual,'%d/%m/%Y') AS Fecha, a.descripcion AS almacen
										FROM transaccion t
										INNER JOIN seccion o ON o.idseccion=t.idorigen
										INNER JOIN seccion a ON a.idseccion=t.idalmacen
										INNER JOIN estadotransaccion e ON e.idestado=t.idestado
										WHERE  t.idalmacen IN (1,32,52,53,81) AND t.idestado > 1 and t.destino='F'
									union
										SELECT t.idtransaccion,
														concat((t.idtransaccion - (t.idtransaccion DIV 10000) * 10000),'/',(t.idtransaccion DIV 10000)) AS nroSolicitud,
														o.descripcion AS origen,
														date_format(t.fechainicio,'%d/%m/%Y') AS Inicio,
														'Vehiculo' AS destino, t.iddestino AS identificacion,
														t.idestado AS estado, e.descripcion AS idestado, date_format(t.fechaactual,'%d/%m/%Y') AS Fecha, a.descripcion AS almacen
										FROM transaccion t
										INNER JOIN seccion o ON o.idseccion=t.idorigen
										INNER JOIN seccion a ON a.idseccion=t.idalmacen
										INNER JOIN estadotransaccion e ON e.idestado=t.idestado
										WHERE  t.idalmacen IN (1,32,52,53,81) AND t.idestado > 1 and t.destino='V'
										) u ORDER BY idtransaccion desc LIMIT 0,40 ;
SELECT ta.idarticulo,a.nombre, ta.cantidad,ta.cantidad AS aprobar,'SI' AS autoriza, concat('idtransaccion=',ta.idtransaccion,' AND idarticulo=',ta.idarticulo) AS id FROM transaccionarticulo ta INNER JOIN articulo a ON a.idarticulo = ta.idarticulo WHERE ta.idtransaccion = 20100069 AND ta.idestado = 2
SELECT ta.idarticulo,a.nombre, ta.cantidad,ta.cantidad AS aprobar,'SI' AS autoriza, concat('idtransaccion=',ta.idtransaccion,' AND idarticulo=',ta.idarticulo) AS id FROM transaccionarticulo ta INNER JOIN articulo a ON a.idarticulo = ta.idarticulo WHERE ta.idtransaccion = 20100069 AND ta.idestado = 2 ORDER BY 1 asc LIMIT 0,40 ;
SELECT *,u.idtransaccion as id FROM
										(SELECT t.idtransaccion,
														concat((t.idtransaccion - (t.idtransaccion DIV 10000) * 10000),'/',(t.idtransaccion DIV 10000)) AS nroSolicitud,
														o.descripcion AS origen,
														date_format(t.fechainicio,'%d/%m/%Y') AS Inicio,
														'Seccion' AS destino, s.descripcion AS identificacion,
														t.idestado AS estado, e.descripcion AS idestado, date_format(t.fechaactual,'%d/%m/%Y') AS Fecha, a.descripcion AS almacen
										FROM transaccion t
										INNER JOIN seccion o ON o.idseccion=t.idorigen
										INNER JOIN seccion a ON a.idseccion=t.idalmacen
										INNER JOIN seccion s ON s.idseccion=t.iddestino
										INNER JOIN estadotransaccion e ON e.idestado=t.idestado
										WHERE  t.idalmacen IN (1,32,52,53,81) AND t.idestado > 1 and t.destino='S'
									union
										SELECT t.idtransaccion,
														concat((t.idtransaccion - (t.idtransaccion DIV 10000) * 10000),'/',(t.idtransaccion DIV 10000)) AS nroSolicitud,
														o.descripcion AS origen,
														date_format(t.fechainicio,'%d/%m/%Y') AS Inicio,
														'Funcionario' AS destino, t.iddestino AS identificacion,
														t.idestado AS estado, e.descripcion AS idestado, date_format(t.fechaactual,'%d/%m/%Y') AS Fecha, a.descripcion AS almacen
										FROM transaccion t
										INNER JOIN seccion o ON o.idseccion=t.idorigen
										INNER JOIN seccion a ON a.idseccion=t.idalmacen
										INNER JOIN estadotransaccion e ON e.idestado=t.idestado
										WHERE  t.idalmacen IN (1,32,52,53,81) AND t.idestado > 1 and t.destino='F'
									union
										SELECT t.idtransaccion,
														concat((t.idtransaccion - (t.idtransaccion DIV 10000) * 10000),'/',(t.idtransaccion DIV 10000)) AS nroSolicitud,
														o.descripcion AS origen,
														date_format(t.fechainicio,'%d/%m/%Y') AS Inicio,
														'Vehiculo' AS destino, t.iddestino AS identificacion,
														t.idestado AS estado, e.descripcion AS idestado, date_format(t.fechaactual,'%d/%m/%Y') AS Fecha, a.descripcion AS almacen
										FROM transaccion t
										INNER JOIN seccion o ON o.idseccion=t.idorigen
										INNER JOIN seccion a ON a.idseccion=t.idalmacen
										INNER JOIN estadotransaccion e ON e.idestado=t.idestado
										WHERE  t.idalmacen IN (1,32,52,53,81) AND t.idestado > 1 and t.destino='V'
										) u ORDER BY idtransaccion desc LIMIT 0,40 ;
SELECT au.idarticulo,a.nombre, au.cantidad,ifnull(en.cantidad,0) AS entregado,au.cantidad - ifnull(en.cantidad,0) AS entregar, concat('idtransaccion=',au.idtransaccion,' AND idarticulo=',au.idarticulo) AS id FROM transaccionarticulo au LEFT JOIN (SELECT idtransaccion, idarticulo, SUM(cantidad) AS cantidad FROM transaccionarticulo WHERE idestado = 5 AND idtransaccion = 20100069 GROUP BY idtransaccion, idarticulo) en ON au.idtransaccion = en.idtransaccion  AND au.idarticulo = en.idarticulo  INNER JOIN articulo a ON a.idarticulo = au.idarticulo WHERE au.idtransaccion = 20100069 AND au.cantidad > 0  AND au.idestado = 3
SELECT au.idarticulo,a.nombre, au.cantidad,ifnull(en.cantidad,0) AS entregado,au.cantidad - ifnull(en.cantidad,0) AS entregar, concat('idtransaccion=',au.idtransaccion,' AND idarticulo=',au.idarticulo) AS id FROM transaccionarticulo au LEFT JOIN (SELECT idtransaccion, idarticulo, SUM(cantidad) AS cantidad FROM transaccionarticulo WHERE idestado = 5 AND idtransaccion = 20100069 GROUP BY idtransaccion, idarticulo) en ON au.idtransaccion = en.idtransaccion  AND au.idarticulo = en.idarticulo  INNER JOIN articulo a ON a.idarticulo = au.idarticulo WHERE au.idtransaccion = 20100069 AND au.cantidad > 0  AND au.idestado = 3 ORDER BY 1 asc LIMIT 0,40 ;
SELECT *,u.idtransaccion as id FROM
										(SELECT t.idtransaccion,
														concat((t.idtransaccion - (t.idtransaccion DIV 10000) * 10000),'/',(t.idtransaccion DIV 10000)) AS nroSolicitud,
														o.descripcion AS origen,
														date_format(t.fechainicio,'%d/%m/%Y') AS Inicio,
														'Seccion' AS destino, s.descripcion AS identificacion,
														t.idestado AS estado, e.descripcion AS idestado, date_format(t.fechaactual,'%d/%m/%Y') AS Fecha, a.descripcion AS almacen
										FROM transaccion t
										INNER JOIN seccion o ON o.idseccion=t.idorigen
										INNER JOIN seccion a ON a.idseccion=t.idalmacen
										INNER JOIN seccion s ON s.idseccion=t.iddestino
										INNER JOIN estadotransaccion e ON e.idestado=t.idestado
										WHERE  t.idalmacen IN (1,32,52,53,81) AND t.idestado > 1 and t.destino='S'
									union
										SELECT t.idtransaccion,
														concat((t.idtransaccion - (t.idtransaccion DIV 10000) * 10000),'/',(t.idtransaccion DIV 10000)) AS nroSolicitud,
														o.descripcion AS origen,
														date_format(t.fechainicio,'%d/%m/%Y') AS Inicio,
														'Funcionario' AS destino, t.iddestino AS identificacion,
														t.idestado AS estado, e.descripcion AS idestado, date_format(t.fechaactual,'%d/%m/%Y') AS Fecha, a.descripcion AS almacen
										FROM transaccion t
										INNER JOIN seccion o ON o.idseccion=t.idorigen
										INNER JOIN seccion a ON a.idseccion=t.idalmacen
										INNER JOIN estadotransaccion e ON e.idestado=t.idestado
										WHERE  t.idalmacen IN (1,32,52,53,81) AND t.idestado > 1 and t.destino='F'
									union
										SELECT t.idtransaccion,
														concat((t.idtransaccion - (t.idtransaccion DIV 10000) * 10000),'/',(t.idtransaccion DIV 10000)) AS nroSolicitud,
														o.descripcion AS origen,
														date_format(t.fechainicio,'%d/%m/%Y') AS Inicio,
														'Vehiculo' AS destino, t.iddestino AS identificacion,
														t.idestado AS estado, e.descripcion AS idestado, date_format(t.fechaactual,'%d/%m/%Y') AS Fecha, a.descripcion AS almacen
										FROM transaccion t
										INNER JOIN seccion o ON o.idseccion=t.idorigen
										INNER JOIN seccion a ON a.idseccion=t.idalmacen
										INNER JOIN estadotransaccion e ON e.idestado=t.idestado
										WHERE  t.idalmacen IN (1,32,52,53,81) AND t.idestado > 1 and t.destino='V'
										) u ORDER BY idtransaccion desc LIMIT 0,40 ;
